<!DOCTYPE HTML>
<html th:replace="~{common/layout :: layout(~{::title}, ~{::section}, ~{::link},'게시글 수정', '게시글 수정')}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>게시글 수정</title>
</head>
<body>
<!-- 추가 link 없을 경우, link fragment 필요 -->
<th:block th:fragment="link"></th:block>
<section>
    <div class="container">
        <form th:action="@{/posts/{id}/edit(id=${post.postId})}" th:object="${post}" method="post">
            <input type="hidden" id="postId" th:field="*{postId}"/>
            <div>
                <label for="category">분류</label>
                <select id="category" th:field="*{category}" class="form-select" th:errorclass="field-error">
                    <option value="">==분류 선택==</option>
                    <option th:each="category : ${categorys}" th:value="${category.name()}"
                            th:text="${category.displayName}"></option>
                </select>
                <div class="field-error" th:errors="*{category}"></div>
            </div>
            <div>
                <label for="title">제목</label>
                <input type="text" id="title" th:field="*{title}" th:errorclass="field-error" class="form-control" placeholder="제목">
                <div class="field-error" th:errors="*{title}"></div>
            </div>
            <div>
                <label for="content">내용</label>
                <textarea id="content" th:field="*{content}" th:errorclass="field-error" class="form-control" placeholder="내용을 입력해주세요."></textarea>
                <div class="field-error" th:errors="*{content}"></div>
            </div>
            <hr class="my-4">
            <div class="row">
                <div class="col">
                    <button class="w-100 btn btn-primary btn-lg" type="submit">게시글 수정</button>
                </div>
                <div class="col">
                    <button class="w-100 btn btn-secondary btn-lg"
                            type="button"
                            th:onclick="'history.back();'">취소
                    </button>
                </div>
            </div>
        </form>
    </div> <!-- /container -->
</section>